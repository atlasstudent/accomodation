<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Search</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
<body>
<style>
    .form-col1{
        display: flex;
        justify-content: center;
        padding: 10px;
        margin: 15px;
        background: #f4f4f4;
        border-radius: 20px;
    }

    .col-dev{
        padding: 25px;
    }

    .card-text-custom{
        color: gray;
        font-size: small;
        display: flex;
        align-items: center;
    }
    .custom-form-label {
            font-size: small;
            color: gray;
        }

</style>

<nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="./index.html">Home</a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="./feedback.html">Reviews</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./aboutus.html">About Us</a>
          </li> -->
        </ul>
      </div>

  </nav>
  <div class="container" style="display: flex; flex-direction: column; height: 100vh;" >
    <div class="form-col1">
        <div class="col-dev" style="flex-grow: 4;">
            <label for="location" class="form-label custom-form-label">Location</label>
            <input type="text" class="form-control" id="location" placeholder="Andheri, BKC, Bandra..." style="width: 500px; height: 50px;">
          </div>
        <div class="col-dev" style="flex-grow: 1;">
            <label for="accType" class="form-label custom-form-label">Hostel Type</label>
            <select class="form-select" id="accType" style="height: 50px;">
              <option value="mixed" selected>Mixed</option>
              <option value="male">Male</option>
              <option value="female">Female</option>
            </select>
          </div>
          <div class="col-dev" style="flex-grow: 1; display: flex; flex-direction: column;">
            <label for="priceRange" class="form-label custom-form-label">Price Range (per month)</label>
            <div style="    display: flex;
            align-items: center;">
               <input step="1000" onchange="slider(this.value)" type="range" class="form-control-range" id="priceRange" style="height: 50px;" min="1000" max="70000" value="10000"> 
               &nbsp;&nbsp;<span id="sliderid">10000</span> 
            </div>
          </div>
            <div class="col-dev">
             <button class="btn btn-primary mt-3" style="width: 100px; height: 50px;" onclick="search2()">Search</button> 
            </div>
    </div>
    <div id="datalist" style="width: 100%;">
 
    </div>
    <div class="container">
        <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
          <div class="col-md-4 d-flex align-items-center">
            <a href="/" class="mb-3 me-2 mb-md-0 text-body-secondary text-decoration-none lh-1" previewlistener="true">
              <svg class="bi" width="30" height="24"><use xlink:href="#bootstrap"></use></svg>
            </a>
            <span class="mb-3 mb-md-0 text-body-secondary">© 2024 Student House - Project Dormify</span>
          </div>
      
          <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
            <li class="ms-3"><a class="text-body-secondary" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#twitter"></use></svg></a></li>
            <li class="ms-3"><a class="text-body-secondary" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#instagram"></use></svg></a></li>
            <li class="ms-3"><a class="text-body-secondary" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#facebook"></use></svg></a></li>
          </ul>
        </footer>
      </div>
</div>


<script>
    const data = [
        {
        "ID": "17c7b171",
        "Name": "Atlas Hostel Female",
        "Type": "Hostel",
        "Subtype": "female",
        "Address": {
            "location": "6, no. market, opp. PWD Community Hall, near BKC, Government Colony, Bandra East, Mumbai, Maharashtra 400051, India.",
            "coord": "19.06476150036487, 72.84986219591512"
            
        },
        "Amenities": ["wifi", "geyser"],
        "Rating": 4,
        "Rooms": [
            {
            "roomType": "6 Shared",
            "available": 5,
            "price": 10000
            },
            {
            "roomType": "4 Shared",
            "available": 2,
            "price": 15000
            }
        ],
        "Feedback": [
            {
            "user": "deepesh",
            "rating": 4,
            "review": "great stay"
            },
            {
            "user": "Sarah",
            "rating": 5,
            "review": "Clean rooms and friendly staff"
            },
            {
            "user": "John",
            "rating": 3,
            "review": "A bit noisy at night"
            }
        ]
        },
        {
        "ID": "17c7b141",
        "Name": "Mahindra Building",
        "Type": "Building",
        "Subtype": "mixed",
        "Address": {
            "location": " BKC Bandra East Shop No. 10 Gr Floor. Bldg No. 11 Opp swagat veg restaurant. Near Trade Centre, Mothilal Nehru Nagar, MMRDA Area, Kalina, Santacruz East, Mumbai, Maharashtra 400051",
            "coord": "19.07227619447045, 72.86913138465418"
            
        },
        "Amenities": ["wifi", "geyser"],
        "Rating": 4,
        "Rooms": [
            {
            "roomType": "Studio",
            "available": 1,
            "price": 20000
            },
            {
            "roomType": "2 BHK",
            "available": 2,
            "price": 15000
            }
        ],
        "Feedback": [
            {
            "user": "deepesh",
            "rating": 4,
            "review": "great stay"
            },
            {
            "user": "Sarah",
            "rating": 5,
            "review": "Clean rooms and friendly staff"
            },
            {
            "user": "John",
            "rating": 3,
            "review": "A bit noisy at night"
            }
        ]
        },
        {
        "ID": "1abf345f",
        "Name": "Sunrise Hostel",
        "Type": "Hostel",
        "Subtype": "mixed",
        "Address": {
            "location": "near Greater Bank, Malad, Navy Colony, Kanchpada, Malad West, Mumbai, Maharashtra 400064,",
            "coord": "19.1902125338614, 72.84151003069165"
            
        },
        "Amenities": ["wifi", "laundry"],
        "Rating": 4.2,
        "Rooms": [
            {
            "roomType": "3 Shared",
            "available": 3,
            "price": 9000
            },
            {
            "roomType": "Single Occupancy",
            "available": 2,
            "price": 18000
            }
        ],
        "Feedback": [
            {
            "user": "Emily",
            "rating": 4.5,
            "review": "Enjoyed my stay, clean and comfortable."
            },
            {
            "user": "Michael",
            "rating": 4,
            "review": "Good value for money."
            },
            {
            "user": "Jessica",
            "rating": 3.5,
            "review": "Could improve cleanliness in common areas."
            }
        ]
        },
        {
        "ID": "98dfe21c",
        "Name": "Harmony Hostel",
        "Type": "Hostel",
        "Subtype": "male",
        "Address": {
            "location": "located at S.V.Road, Nadiadwala Colony No.1, Malad, Nadiyawala Colony 2, Malad West, Mumbai, Maharashtra 400064, India.",
            "coord": "19.180634001578106, 72.84694577617105"
            
        },
        "Amenities": ["wifi", "kitchenette"],
        "Rating": 4.5,
        "Rooms": [
            {
            "roomType": "3 Shared",
            "available": 4,
            "price": 11000
            },
            {
            "roomType": "4 Shared",
            "available": 1,
            "price": 20000
            }
        ],
        "Feedback": [
            {
            "user": "David",
            "rating": 4.5,
            "review": "Great location and friendly staff."
            },
            {
            "user": "Sophia",
            "rating": 4,
            "review": "Comfortable beds but noisy surroundings."
            },
            {
            "user": "Oliver",
            "rating": 5,
            "review": "Excellent stay, highly recommended."
            }
        ]
        },
        {
            "ID": "8f23b2c4",
            "Name": "Zephyr Hostel",
            "Type": "Hostel",
            "Subtype": "mixed",
            "Address": {
                "location": "158, Hill View, Hill Rd, opp. diamond palace center point, near band stand and railway station, Bandra West, Mumbai, Maharashtra 400050, India.",
                "coord": "19.047210299510006, 72.81964031534582"
                
            },
            "Amenities": ["wifi", "geyser", "breakfast"],
            "Rating": 4,
            "Rooms": [
                {
                    "roomType": "8 Shared",
                    "available": 3,
                    "price": 8000
                },
                {
                    "roomType": "Dorm",
                    "available": 10,
                    "price": 6000
                }
            ],
            "Feedback": [
                {
                    "user": "Mina",
                    "rating": 5,
                    "review": "Superb atmosphere!"
                },
                {
                    "user": "Raj",
                    "rating": 4,
                    "review": "Very welcoming"
                }
            ]
        },
        {
        "ID": "3c8a951e",
        "Name": "Tranquil Hostel",
        "Type": "Hostel",
        "Subtype": "mixed",
        "Address": {
            "location": "1st Floor, Topiwala Centre, Kakaji Nagar, Siddharth Nagar, Goregaon West, Mumbai, Maharashtra 400062, India",
            "coord": "19.163857584917594, 72.84768074039886"
            
        },
        "Amenities": ["wifi", "kitchenette"],
        "Rating": 5,
        "Rooms": [
            {
                "roomType": "Private",
                "available": 2,
                "price": 25000
            },
            {
                "roomType": "Dormitory",
                "available": 8,
                "price": 6000
            }
        ],
        "Feedback": [
            {
                "user": "Sophia",
                "rating": 5,
                "review": "Excellent service and cleanliness"
            },
            {
                "user": "Chris",
                "rating": 4,
                "review": "Friendly staff, enjoyed my stay"
            }
        ]
        },
        {
        "ID": "9d8f3e11",
        "Name": "Gemini Hostels",
        "Type": "Hostel",
        "Subtype": "mixed",
        "Address": {
            "location": "St.Pius College Campus, Gate No.3, Virwani Road, Vishveshwar Nagar, Goregaon, Mumbai, Maharashtra 400063, India.",
            "coord": "19.16757956562479, 72.85633999140501"
            
        },
        "Amenities": ["wifi", "air conditioning", "breakfast"],
        "Rating": 4.5,
        "Rooms": [
            {
                "roomType": "6 Shared",
                "available": 4,
                "price": 11000
            },
            {
                "roomType": "2 Shared",
                "available": 2,
                "price": 18000
            }
        ],
        "Feedback": [
            {
                "user": "Liam",
                "rating": 5,
                "review": "Amazing view and great vibes"
            },
            {
                "user": "Ava",
                "rating": 4,
                "review": "Very clean and cozy"
            }
        ]
        },
        {
        "ID": "4e5d6f77",
        "Name": "GreenWood Hostel",
        "Type": "Hostel",
        "Subtype": "female",
        "Address": {
            "location": "Annapurna CHSL, Off New Link Rd, opp. Oshiwara Park, Oshiwara, Jogeshwari West, Mumbai, Maharashtra 400001, India",
            "coord": "19.14184816642392, 72.83065587132586"
            
        },
        "Amenities": ["wifi", "geyser", "community kitchen"],
        "Rating": 3.5,
        "Rooms": [
            {
                "roomType": "8 Shared",
                "available": 7,
                "price": 9000
            },
            {
                "roomType": "4 Shared",
                "available": 3,
                "price": 14000
            }
        ],
        "Feedback": [
            {
                "user": "Olivia",
                "rating": 4,
                "review": "Friendly environment and good facilities"
            },
            {
                "user": "Noah",
                "rating": 3,
                "review": "Needs more cleanliness"
            }
        ]
        }
    ]   

    function slider(val){
            document.getElementById("sliderid").innerText = val;
        }
    function search2(e) {
            const loc = document.getElementById("location").value;
            const accType = document.getElementById("accType").value;
            const priceRange = document.getElementById("priceRange").value;
            window.open(`./search.html?location=${loc}&pricerange=${priceRange}&accType=${accType}`, "_self");
    }
    
    function degreesToRadians(degrees) {
        return degrees * Math.PI / 180;
    }

    function distanceInKmBetweenEarthCoordinates(lat1, lon1, lat2, lon2) {
        var earthRadiusKm = 6371;

        var dLat = degreesToRadians(lat2-lat1);
        var dLon = degreesToRadians(lon2-lon1);

        lat1 = degreesToRadians(lat1);
        lat2 = degreesToRadians(lat2);

        var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                Math.sin(dLon/2) * Math.sin(dLon/2) * Math.cos(lat1) * Math.cos(lat2); 
        var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
        return earthRadiusKm * c;
    }

    function successFunction(position) 
    {       
            var lat = position.coords.latitude;
            var long = position.coords.longitude;
            alert('Your latitude is :'+lat+' and longitude is '+long);
    }

    function errorFunction(position) 
    {
        alert('Error!');
    }

    const urlParams = new URLSearchParams(window.location.search);
        let loc = urlParams.get('location');
        let priceRange = urlParams.get('pricerange');
        let type = urlParams.get('accType');


    function searchList(){


        var requestOptions = {
  method: 'GET',
};

        if(loc.trim().toLowerCase() === "master"){
            data.forEach((item) => {
                let minPrice = 10000000; 
                const building = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-building" viewBox="0 0 16 16">
                            <path d="M4 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM4 5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z"/>
                            <path d="M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm11 0H3v14h3v-2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V15h3z"/>
                        </svg>&nbsp;&nbsp;&nbsp;`

                const hostel = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-backpack4" viewBox="0 0 16 16">
                            <path d="M4 9.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5zm1 .5v3h6v-3h-1v.5a.5.5 0 0 1-1 0V10z"/>
                            <path d="M8 0a2 2 0 0 0-2 2H3.5a2 2 0 0 0-2 2v1c0 .52.198.993.523 1.349A.5.5 0 0 0 2 6.5V14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6.5a.5.5 0 0 0-.023-.151c.325-.356.523-.83.523-1.349V4a2 2 0 0 0-2-2H10a2 2 0 0 0-2-2m0 1a1 1 0 0 0-1 1h2a1 1 0 0 0-1-1M3 14V6.937q.24.062.5.063h4v.5a.5.5 0 0 0 1 0V7h4q.26 0 .5-.063V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1m9.5-11a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/>
                        </svg>&nbsp;&nbsp;&nbsp`
                item.Rooms.forEach((x) =>  minPrice = x.price < minPrice?x.price:minPrice );
                console.log({item})
                document.getElementById("datalist").innerHTML += ` 
                <div class="card" style="width:100%; margin-bottom: 25px">
            <div class="card-body">
                <div style="display: flex;justify-content: space-between;align-items: center;">
                    <div style="display: flex;">
                        <div>${item.Type === 'Hostel'?hostel:building}</div>
                    <div style="width:802px">        
                    <h5 class="card-title">${item.Name}</h5>
                    <p class="card-text card-text-custom">Address: ${item.Address.location}</p>
                    <p class="card-text card-text-custom">
                        Rated ${item.Rating} &nbsp <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
                            <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"/>
                        </svg>  
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Reviews &nbsp;${item.Feedback.length}&nbsp<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-left-quote" viewBox="0 0 16 16">
                        <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
                        <path d="M7.066 4.76A1.665 1.665 0 0 0 4 5.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 1 0 .6.58c1.486-1.54 1.293-3.214.682-4.112zm4 0A1.665 1.665 0 0 0 8 5.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 1 0 .6.58c1.486-1.54 1.293-3.214.682-4.112z"/>
                        </svg>
                    </p>
                </div>
               
            </div> 
                <div style="display: flex;">
                    <div style="display: flex;flex-direction: column;align-items: flex-end; margin-right: 10px; font-size: small;">
                        <div>
                            Accomodation start's from 
                        </div> 
                        <div style="font-weight: bolder; font-size: large;">
                            ₹ ${minPrice}&nbsp;&nbsp;  
                        </div>
                   </div>  
                    <button href="#" class="btn btn-success">View Accomodation</button>
                </div>   
            </div>
        


            
        </div>`
            })
        }else{
        fetch(`https://api.geoapify.com/v1/geocode/search?text=${loc+'%20Mumbai%20Maharashtra%20India'}&apiKey=344262dfce2b409dae5654f476651d30`, requestOptions)
        .then(response => response.json())
        .then(result => {
            const clon = result.features[0].properties.lon;
            const clat = result.features[0].properties.lat;
            let res = data.filter((item)=>{
                const coord = item.Address.coord.split(", ");
                const lat = Number(coord[0]);
                const lon = Number(coord[1]);
                const distance = distanceInKmBetweenEarthCoordinates(clat, clon, lat, lon);
                let minPrice = 10000000; 
                item.Rooms.forEach((x) =>  minPrice = x.price < minPrice?x.price:minPrice );
                console.log(distance)
                return distance <= 3 && minPrice <= priceRange ? true : false && (item.Subtype === type || item.Subtype === 'mixed');
                // return true;
            });
            
            res.forEach((item) => {
                let minPrice = 10000000; 
                const building = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-building" viewBox="0 0 16 16">
                            <path d="M4 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM4 5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z"/>
                            <path d="M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm11 0H3v14h3v-2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V15h3z"/>
                        </svg>&nbsp;&nbsp;&nbsp;`

                const hostel = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-backpack4" viewBox="0 0 16 16">
                            <path d="M4 9.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5zm1 .5v3h6v-3h-1v.5a.5.5 0 0 1-1 0V10z"/>
                            <path d="M8 0a2 2 0 0 0-2 2H3.5a2 2 0 0 0-2 2v1c0 .52.198.993.523 1.349A.5.5 0 0 0 2 6.5V14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6.5a.5.5 0 0 0-.023-.151c.325-.356.523-.83.523-1.349V4a2 2 0 0 0-2-2H10a2 2 0 0 0-2-2m0 1a1 1 0 0 0-1 1h2a1 1 0 0 0-1-1M3 14V6.937q.24.062.5.063h4v.5a.5.5 0 0 0 1 0V7h4q.26 0 .5-.063V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1m9.5-11a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/>
                        </svg>&nbsp;&nbsp;&nbsp`
                item.Rooms.forEach((x) =>  minPrice = x.price < minPrice?x.price:minPrice );
                console.log({item})
                document.getElementById("datalist").innerHTML += ` 
                <div class="card" style="width:100%; margin-bottom: 25px">
            <div class="card-body">
                <div style="display: flex;justify-content: space-between;align-items: center;">
                    <div style="display: flex;">
                        <div>${item.Type === 'Hostel'?hostel:building}</div>
                        <div style="width:802px">      
                    <h5 class="card-title">${item.Name}</h5>
                    <p class="card-text card-text-custom">Address: ${item.Address.location}</p>
                    <p class="card-text card-text-custom">
                        Rated ${item.Rating} &nbsp <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
                            <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"/>
                        </svg>  
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        Reviews &nbsp;${item.Feedback.length}&nbsp<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-left-quote" viewBox="0 0 16 16">
                        <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
                        <path d="M7.066 4.76A1.665 1.665 0 0 0 4 5.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 1 0 .6.58c1.486-1.54 1.293-3.214.682-4.112zm4 0A1.665 1.665 0 0 0 8 5.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 1 0 .6.58c1.486-1.54 1.293-3.214.682-4.112z"/>
                        </svg>
                    </p>
                </div>
               
            </div> 
                <div style="display: flex;">
                    <div style="display: flex;flex-direction: column;align-items: flex-end; margin-right: 10px; font-size: small;">
                        <div>
                            Accomodation start's from 
                        </div> 
                        <div style="font-weight: bolder; font-size: large;">
                            ₹ ${minPrice}&nbsp;&nbsp;  
                        </div>
                   </div>  
                    <button class="btn btn-primary">View Accomodation</button>
                </div>   
            </div>
        </div>`
            })
        })
        .catch(error => console.log('error', error));
    }


        document.getElementById("location").value = loc;
        document.getElementById("accType").value = type;
        document.getElementById("priceRange").value = priceRange;
        document.getElementById("sliderid").innerText = priceRange;
        const accType = document.getElementById("accType").value;
        // const priceRange = document.getElementById("priceRange").value;
        console.log({loc, accType, priceRange})
        // window.open(`./search.html?location=${loc}&pricerange=${priceRange}&accType=${accType}`, "_self");


        console.log({loc, priceRange, type});

    }
    // if(navigator.geolocation){
  
    // }
    // window.onload = ()=>{
        searchList();
    // }
</script>
</body>
</html>


   <!-- <div class="card-body">
                <div style="display: flex;justify-content: space-between;align-items: center;">
                <div style="display: flex;">
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-building" viewBox="0 0 16 16">
                            <path d="M4 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM4 5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z"/>
                            <path d="M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm11 0H3v14h3v-2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V15h3z"/>
                        </svg>&nbsp;&nbsp;&nbsp;

                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-backpack4" viewBox="0 0 16 16">
                            <path d="M4 9.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5zm1 .5v3h6v-3h-1v.5a.5.5 0 0 1-1 0V10z"/>
                            <path d="M8 0a2 2 0 0 0-2 2H3.5a2 2 0 0 0-2 2v1c0 .52.198.993.523 1.349A.5.5 0 0 0 2 6.5V14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6.5a.5.5 0 0 0-.023-.151c.325-.356.523-.83.523-1.349V4a2 2 0 0 0-2-2H10a2 2 0 0 0-2-2m0 1a1 1 0 0 0-1 1h2a1 1 0 0 0-1-1M3 14V6.937q.24.062.5.063h4v.5a.5.5 0 0 0 1 0V7h4q.26 0 .5-.063V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1m9.5-11a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/>
                        </svg>&nbsp;&nbsp;&nbsp;
                    </div>
                    <div >        
                        <h5 class="card-title">${item.Name}</h5>
                        <p class="card-text card-text-custom">
                            Rated ${item.Rating} &nbsp <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
                                <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"/>
                            </svg>  
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            Reviews &nbsp;${item.Feedback.length}&nbsp<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-left-quote" viewBox="0 0 16 16">
                            <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
                            <path d="M7.066 4.76A1.665 1.665 0 0 0 4 5.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 1 0 .6.58c1.486-1.54 1.293-3.214.682-4.112zm4 0A1.665 1.665 0 0 0 8 5.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 1 0 .6.58c1.486-1.54 1.293-3.214.682-4.112z"/>
                            </svg>
                        </p>
                    </div>
                </div>
                    <div>
                        Accomodation start's from ${minPrice}&nbsp;&nbsp;
                        <button href="#" class="btn btn-primary">View Accomodation</button>
                    </div>
                
            </div> -->
